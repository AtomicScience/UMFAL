# Кеширование модулей
[This material is available in **English**](https://github.com/AtomicScience/UMFAL/tree/master/examples/05-moduleCaching)
Этот пример объясняет политику кеширования модулей

*Новые темы в данном примере:*
1. Политика кеширования в UMFAL
2. Условия очистки кеша

# Разбор кода
## module.lua
Этот модуль - просто модуль, но есть нюанс:
```lua
print("Code of module.lua is run")
```
Эта строка вызывается вне функций, просто в коде модуля.

Это значит, что она будет выполняться тогда, когда мы **запускаем файл** - то есть загружаем его с диска и выполняем его код.

Чтобы минимизировать количество запусков, модули **кешируются** - результат их запуска сохраняется в кеше. Это происходит, когда мы используем модуль в первый раз, а для всех последующих использований будет использоваться значение из кеша.

Это значит, что вышеупомянутая строчка будет выводиться на экран только когда мы **запускаем файл** - если модуль возвращается из кеша, ничего не произойдет

### Очистка кеша
У каждого приложения в UMFAL есть свой индивидуальный кеш. Кеш приложения очищается каждый раз, когда мы инициализируем приложение:
```lua
-- Cache is wiped
local app = require("umfal").initAppFromRelative("moduleCaching")
```
Это происходит при **каждом** запуске точки входа